<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org"
	layout:decorate="~{fragments/blank}">
<head>
<meta charset="UTF-8">
<title>Visits</title>
</head>
<body>

	<div class="content-box" layout:fragment="content">
	<script type="text/javascript" th:inline="javascript">
	
	function signOut(id){
		var catty = [[@{/admin/reception/signout}]]
		  $.ajax({
	        	url:catty,
	        	data:"id="+id,
	        	type:'get',
	        	success: function(data){
	        		toastr.success('Success', 'Visitor Signed Out', {timeOut: 5000});

	        	}
	        	
	        });
	        
		
	}
	
	</script>
		<div class="element-wrapper">
			<h6 class="element-header" id="title" th:data-title="${title}">Visits Today</h6>
			<div class="element-box">


				<div class="table-responsive">
					<table id="dataTable1" width="100%"
						class="table table-striped table-lightfont">
						<thead>
							<tr>
								<th>#</th>
								<th>Picture</th>
								<th>Name</th>
								<th>Company</th>
								<th>Car Number</th>
								<th>Time In</th>
								<th>Time Out</th>
								<th>Mission</th>
								<th>Status</th>
							</tr>
						</thead>
						<tfoot>
							<tr>
								<th>#</th>
								<th>Picture</th>
								<th>Name</th>
								<th>Company</th>
								<th>Car Number</th>
								<th>Time In</th>
								<th>Time Out</th>
								<th>Mission</th>
								<th>Status</th>
							</tr>
						</tfoot>
						<tbody>
							<tr th:each="a,i:${visits}">
							<td th:text="${i.index+1}">Tiger Nixon</td>
							<td >
                          <img style="width: 25%" th:src="${a.picture}">
                        </td>
								
								<td th:text="${a.visitorName}" style="text-transform: capitalize;">System Architect</td>
								<td th:text="${a.company}">Edinburgh</td>
								<td th:text="${a.carNumber}">2011/04/25</td>
								<td th:text="${a.timeIn}">61</td>
								<td th:text="${a.timeOut}">61</td>
								<td th:text="${a.mission}"  style="text-transform: capitalize;">$320,800</td>
								<td><button class="btn btn-danger" th:if="${a.timeOut ==null}" th:onclick="'signOut('+${a.visitId}+')'">Sign Out</button>
								<span th:if="${a.timeOut !=null}" >Signed Out</span>
								</td>
							</tr>

						</tbody>
					</table>
				</div>
			</div>
		</div>


	</div>

</body>
</html>